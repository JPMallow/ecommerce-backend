<!--<p style="color: green"><%#= notice %></p>-->

<!--<h1>Products</h1>-->

<!--<div id="products">-->
  <%# @products.each do |product| %>
    <%#= render product %>
<!--    <p>-->
      <%#= link_to "Show this product", product %>
<!--    </p>-->
  <%# end %>
<!--</div>-->

<%#= link_to "New product", new_product_path %>

<div class="container">
  <table class="table">
    <thead>
    <tr>
      <th scope="col">Name</th>
      <th scope="col">SKU</th>
      <th scope="col">Price</th>
      <th scope="col">Sub Category</th>
      <th scope="col">Image</th>
      <th scope="col">Thumbnail</th>
      <th scope="col"></th>
    </tr>
    </thead>

    <tbody>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.sku %></td>
        <td><%= product.price %></td>
        <td><%= product.sub_category.name if product.sub_category %></td> <!-- Display sub-category name -->
        <td><%= image_tag(product.image.variant(resize_to_fill: [100, nil])) if product.image.attached? %></td>
        <td><%= image_tag(product.thumbnail.variant(resize_to_fill: [50, nil])) if product.thumbnail.attached? %></td>
        <td>
          <%= link_to 'Show', product, class: 'btn btn-primary' %>
          <%= link_to 'Edit', edit_product_path(product), class: 'btn btn-secondary' %>
          <%#= link_to 'Destroy', product_path(product), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
          <%= button_to 'Destroy', product_path(product), method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>

  <%= link_to 'New Product', new_product_path, class: 'btn btn-success' %>
</div>